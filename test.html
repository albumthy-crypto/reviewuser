<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Glassmorphism Dashboard — Expandable Panels</title>

    <!-- Chart.js -->
    <script
      src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"
      defer
    ></script>

    <style>
      :root {
        --bg: linear-gradient(180deg, #f6f9ff 0%, #eef6ff 100%);
        --glass-bg: rgba(255, 255, 255, 0.55);
        --glass-border: rgba(255, 255, 255, 0.65);
        --muted: #6b7280;
        --accent: rgba(99, 102, 241, 0.95);
        --glass-blur: 10px;
        --card-radius: 14px;
        --sidebar-width: 260px;
        --gap: 16px;
        --panel-expanded-height: 600px;
      }

      * {
        box-sizing: border-box;
      }
      html,
      body {
        height: 100%;
        margin: 0;
        font-family: Inter, system-ui, sans-serif;
        background: var(--bg);
        color: #0f172a;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }

      .app {
        display: grid;
        grid-template-columns: var(--sidebar-width) 1fr;
        grid-template-rows: auto 1fr;
        min-height: 100vh;
        gap: 0;
        transition: all 0.3s ease;
      }

      .sidebar {
        grid-row: 1 / span 2;
        background: linear-gradient(
          180deg,
          rgba(255, 255, 255, 0.6),
          rgba(255, 255, 255, 0.45)
        );
        border-right: 1px solid rgba(255, 255, 255, 0.6);
        backdrop-filter: blur(var(--glass-blur));
        padding: 24px;
        min-width: var(--sidebar-width);
        display: flex;
        flex-direction: column;
        gap: 18px;
        box-shadow: 0 6px 20px rgba(16, 24, 40, 0.04);
        transition: all 0.3s ease;
      }
      .brand {
        display: flex;
        align-items: center;
        gap: 12px;
      }
      .logo {
        height: 44px;
        width: 44px;
        border-radius: 10px;
        background: linear-gradient(135deg, #ffffffcc, #f3f6ff);
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        color: var(--accent);
        border: 1px solid var(--glass-border);
        box-shadow: 0 6px 18px rgba(99, 102, 241, 0.08),
          inset 0 -4px 8px rgba(255, 255, 255, 0.6);
      }
      .brand h1 {
        font-size: 1rem;
        margin: 0;
        letter-spacing: 0.2px;
      }
      .nav {
        display: flex;
        flex-direction: column;
        gap: 6px;
        margin-top: 6px;
      }
      .nav a {
        text-decoration: none;
        padding: 10px 12px;
        border-radius: 10px;
        color: #0f172a;
        font-weight: 600;
        display: flex;
        gap: 10px;
        align-items: center;
      }
      .nav a:hover {
        background: rgba(99, 102, 241, 0.06);
        color: var(--accent);
      }
      .nav .active {
        background: linear-gradient(
          90deg,
          rgba(99, 102, 241, 0.12),
          rgba(99, 102, 241, 0.06)
        );
        color: var(--accent);
      }
      .sidebar .spacer {
        flex: 1;
      }

      .topbar {
        padding: 12px 20px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 12px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.6);
        background: transparent;
      }
      .search {
        display: flex;
        gap: 8px;
        align-items: center;
        background: var(--glass-bg);
        border-radius: 12px;
        padding: 8px 12px;
        border: 1px solid var(--glass-border);
        backdrop-filter: blur(var(--glass-blur));
        width: 420px;
        max-width: 60%;
      }
      .search input {
        border: none;
        outline: none;
        background: transparent;
        font-size: 0.95rem;
        color: #0f172a;
        width: 100%;
      }
      .top-actions {
        display: flex;
        align-items: center;
        gap: 12px;
      }
      .btn {
        padding: 8px 12px;
        border-radius: 10px;
        border: 1px solid rgba(16, 24, 40, 0.06);
        background: white;
        box-shadow: 0 6px 18px rgba(16, 24, 40, 0.04);
        cursor: pointer;
      }
      .avatar {
        width: 40px;
        height: 40px;
        border-radius: 10px;
        background: linear-gradient(180deg, #fff, #f3f9ff);
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        color: var(--accent);
        border: 1px solid var(--glass-border);
      }

      .main {
        padding: 20px;
        background: transparent;
        transition: all 0.3s ease;
      }
      .container {
        max-width: 1200px;
        margin: 0 auto;
        display: flex;
        flex-direction: column;
        gap: var(--gap);
      }

      .cards {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: var(--gap);
      }
      .card {
        background: var(--glass-bg);
        border-radius: var(--card-radius);
        padding: 18px;
        min-height: 92px;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        border: 1px solid var(--glass-border);
        backdrop-filter: blur(var(--glass-blur));
        box-shadow: 0 8px 30px rgba(15, 23, 42, 0.04);
      }
      .card .title {
        font-size: 0.85rem;
        color: var(--muted);
        font-weight: 600;
      }
      .card .value {
        margin-top: 6px;
        font-size: 1.3rem;
        font-weight: 700;
        color: #06102a;
      }
      .card .meta {
        font-size: 0.78rem;
        color: var(--muted);
        margin-top: 6px;
      }

      .panel-row {
        display: grid;
        grid-template-columns: 2fr 1fr;
        gap: var(--gap);
        margin-top: 4px;
        transition: all 0.3s ease;
      }
      .panel {
        background: var(--glass-bg);
        border-radius: var(--card-radius);
        padding: 18px;
        border: 1px solid var(--glass-border);
        backdrop-filter: blur(var(--glass-blur));
        box-shadow: 0 8px 30px rgba(15, 23, 42, 0.03);
        transition: all 0.3s ease;
        position: relative;
      }
      .panel h2 {
        margin: 0 0 12px 0;
        font-size: 1.05rem;
        color: #0f172a;
      }

      .expand-btn {
        position: absolute;
        top: 12px;
        right: 12px;
        background: rgba(255, 255, 255, 0.65);
        border: none;
        padding: 6px 8px;
        border-radius: 8px;
        cursor: pointer;
        font-weight: 600;
        transition: all 0.2s ease;
      }
      .expand-btn:hover {
        background: rgba(99, 102, 241, 0.15);
        color: var(--accent);
      }

      /* Table */
      table {
        width: 100%;
        border-collapse: collapse;
        font-size: 0.95rem;
      }
      th,
      td {
        text-align: left;
        padding: 10px 8px;
        border-bottom: 1px solid rgba(15, 23, 42, 0.04);
      }
      th {
        font-weight: 700;
        color: var(--muted);
        font-size: 0.82rem;
        letter-spacing: 0.2px;
      }
      .badge {
        display: inline-block;
        padding: 6px 8px;
        border-radius: 999px;
        font-weight: 700;
        font-size: 0.8rem;
        background: rgba(99, 102, 241, 0.08);
        color: var(--accent);
      }

      .muted {
        color: var(--muted);
        font-size: 0.9rem;
      }
      .small {
        font-size: 0.85rem;
        color: var(--muted);
      }

      /* Expanded panel style */
      .panel.expanded {
        grid-column: 1/-1;
        height: var(--panel-expanded-height);
        z-index: 10;
        box-shadow: 0 20px 50px rgba(15, 23, 42, 0.12);
      }
      .panel-row.expanded > .panel:not(.expanded) {
        opacity: 0.35;
        pointer-events: none;
      }

      /* Responsive */
      @media (max-width: 1100px) {
        .cards {
          grid-template-columns: repeat(3, 1fr);
        }
        .panel-row {
          grid-template-columns: 1fr;
        }
        .search {
          max-width: 48%;
        }
      }
      @media (max-width: 820px) {
        .app {
          grid-template-columns: 1fr;
          grid-template-rows: auto auto 1fr;
        }
        .sidebar {
          grid-row: 1;
          flex-direction: row;
          gap: 12px;
          padding: 12px;
          overflow: auto;
          min-width: unset;
          align-items: center;
        }
        .sidebar .spacer {
          display: none;
        }
        .topbar {
          grid-row: 2;
        }
        .main {
          grid-row: 3;
          padding: 14px;
        }
        .cards {
          grid-template-columns: repeat(2, 1fr);
        }
        .search {
          display: none;
        }
      }
      @media (max-width: 480px) {
        .cards {
          grid-template-columns: 1fr;
        }
        .logo {
          height: 36px;
          width: 36px;
        }
        .brand h1 {
          font-size: 0.9rem;
        }
        .avatar {
          width: 36px;
          height: 36px;
        }
      }
    </style>
  </head>
  <body>
    <div class="app">
      <!-- SIDEBAR -->
      <aside class="sidebar">
        <div class="brand">
          <div class="logo">GH</div>
          <div>
            <h1>GlassHub</h1>
            <div class="small">Admin Dashboard</div>
          </div>
        </div>
        <nav class="nav">
          <a href="#" class="active">Overview</a>
          <a href="#">Users</a>
          <a href="#">Reports</a>
          <a href="#">Settings</a>
          <a href="#">Help</a>
        </nav>
        <div class="spacer"></div>
        <div class="small">© GlassHub 2025</div>
      </aside>

      <!-- TOPBAR -->
      <header class="topbar">
        <div style="display: flex; align-items: center; gap: 12px">
          <button class="btn" id="sidebar-toggle">☰</button>
          <div class="search">
            <svg
              width="18"
              height="18"
              viewBox="0 0 24 24"
              fill="none"
              style="opacity: 0.8"
            >
              <path
                d="M21 21l-4.35-4.35"
                stroke="#374151"
                stroke-width="1.6"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <circle
                cx="11"
                cy="11"
                r="5"
                stroke="#374151"
                stroke-width="1.6"
              />
            </svg>
            <input type="search" placeholder="Search users, reports..." />
          </div>
        </div>
        <div class="top-actions">
          <button class="btn">New</button>
          <div class="avatar">TP</div>
        </div>
      </header>

      <!-- MAIN CONTENT -->
      <main class="main">
        <div class="container">
          <!-- Header -->
          <div
            style="
              display: flex;
              align-items: center;
              justify-content: space-between;
              gap: 12px;
            "
          >
            <div>
              <h2 style="margin: 0">Overview</h2>
              <div class="muted">Dashboard / Glassmorphism / Light Theme</div>
            </div>
            <div class="small">
              Updated: <strong id="last-updated">--</strong>
            </div>
          </div>

          <!-- Cards -->
          <section class="cards">
            <div class="card">
              <div class="title">Head Office</div>
              <div class="value" id="head-office-count">—</div>
              <div class="meta">Total users in Head Office</div>
            </div>
            <div class="card">
              <div class="title">Branches</div>
              <div class="value" id="branches-count">—</div>
              <div class="meta">Active branches</div>
            </div>
            <div class="card">
              <div class="title">Division</div>
              <div class="value" id="division-count">—</div>
              <div class="meta">Registered divisions</div>
            </div>
            <div class="card">
              <div class="title">Department</div>
              <div class="value" id="department-count">—</div>
              <div class="meta">Registered departments</div>
            </div>
            <div class="card">
              <div class="title">Group Application</div>
              <div class="value" id="group-app-count">—</div>
              <div class="meta">Apps grouped by team</div>
            </div>
            <div class="card">
              <div class="title">Users Login</div>
              <div class="value" id="users-login-count">—</div>
              <div class="meta">Users logged in today</div>
            </div>
            <div class="card">
              <div class="title">Review File</div>
              <div class="value" id="review-file-count">—</div>
              <div class="meta">Pending review files</div>
            </div>
            <div class="card">
              <div class="title">Review Period</div>
              <div class="value" id="review-period-count">—</div>
              <div class="meta">Current review cycle</div>
            </div>
          </section>

          <!-- Chart + Table Panels -->
          <section class="panel-row" id="panel-row">
            <div class="panel" id="chart-panel">
              <button class="expand-btn" onclick="toggleExpand('chart-panel')">
                ⬍ Expand
              </button>
              <h2>Active Users Over Time</h2>
              <div style="height: 360px"><canvas id="lineChart"></canvas></div>
              <div class="small" style="margin-top: 10px">
                Sample data; replace with real metrics from your backend.
              </div>
            </div>

            <div class="panel" id="table-panel">
              <button class="expand-btn" onclick="toggleExpand('table-panel')">
                ⬍ Expand
              </button>
              <h2>Recent Users (Head Office & Branches)</h2>
              <table>
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Location</th>
                    <th>Role</th>
                    <th>Last Login</th>
                  </tr>
                </thead>
                <tbody id="recent-users-tbody"></tbody>
              </table>
              <div
                style="
                  display: flex;
                  justify-content: space-between;
                  align-items: center;
                  margin-top: 12px;
                "
              >
                <div class="small">Showing latest 8 entries</div>
                <button
                  class="btn"
                  onclick="alert('Load more — implement backend')"
                >
                  Load more
                </button>
              </div>
            </div>
          </section>
        </div>
      </main>
    </div>

    <script>
      const demoStats = {
        headOffice: 128,
        branches: 24,
        division: 12,
        department: 42,
        groupApp: 18,
        usersLogin: 56,
        reviewFile: 9,
        reviewPeriod: "Q4 2025",
      };
      const recentUsers = [
        {
          name: "Alice Tan",
          location: "Head Office",
          role: "Manager",
          lastLogin: "2025-10-16 08:42",
        },
        {
          name: "Budi Santoso",
          location: "Branch - KL",
          role: "Support",
          lastLogin: "2025-10-16 08:20",
        },
        {
          name: "Chen Li",
          location: "Branch - SG",
          role: "Engineer",
          lastLogin: "2025-10-15 17:59",
        },
        {
          name: "Dina R.",
          location: "Head Office",
          role: "HR",
          lastLogin: "2025-10-15 16:12",
        },
        {
          name: "Eko W.",
          location: "Branch - JB",
          role: "Sales",
          lastLogin: "2025-10-14 11:02",
        },
        {
          name: "Farah K.",
          location: "Head Office",
          role: "Admin",
          lastLogin: "2025-10-13 09:42",
        },
        {
          name: "Gopal P.",
          location: "Branch - PH",
          role: "Technician",
          lastLogin: "2025-10-12 14:33",
        },
        {
          name: "Hana Y.",
          location: "Branch - ID",
          role: "QA",
          lastLogin: "2025-10-11 10:18",
        },
      ];

      document.getElementById("head-office-count").textContent =
        demoStats.headOffice;
      document.getElementById("branches-count").textContent =
        demoStats.branches;
      document.getElementById("division-count").textContent =
        demoStats.division;
      document.getElementById("department-count").textContent =
        demoStats.department;
      document.getElementById("group-app-count").textContent =
        demoStats.groupApp;
      document.getElementById("users-login-count").textContent =
        demoStats.usersLogin;
      document.getElementById("review-file-count").textContent =
        demoStats.reviewFile;
      document.getElementById("review-period-count").textContent =
        demoStats.reviewPeriod;

      const tbody = document.getElementById("recent-users-tbody");
      recentUsers.forEach((u) => {
        const tr = document.createElement("tr");
        tr.innerHTML = `<td><strong>${u.name}</strong></td><td>${u.location}</td><td>${u.role}</td><td>${u.lastLogin}</td>`;
        tbody.appendChild(tr);
      });

      document.getElementById("last-updated").textContent =
        new Date().toLocaleString();

      // Sidebar toggle
      document
        .getElementById("sidebar-toggle")
        .addEventListener("click", () => {
          const sidebar = document.querySelector(".sidebar");
          if (window.innerWidth <= 820) {
            sidebar.style.display =
              sidebar.style.display === "none" ||
              getComputedStyle(sidebar).display === "none"
                ? "flex"
                : "none";
          } else {
            if (sidebar.style.width && sidebar.style.width !== "") {
              sidebar.style.width = "";
              document.documentElement.style.setProperty(
                "--sidebar-width",
                "260px"
              );
            } else {
              sidebar.style.width = "80px";
              document.documentElement.style.setProperty(
                "--sidebar-width",
                "80px"
              );
            }
          }
        });

      // Chart
      window.addEventListener("DOMContentLoaded", () => {
        const ctx = document.getElementById("lineChart");
        const labels = generateDateLabels(12);
        const data = {
          labels,
          datasets: [
            {
              label: "Head Office",
              data: randomWalk(12, 80, 135),
              tension: 0.25,
              borderWidth: 2,
              pointRadius: 4,
              backgroundColor: "rgba(99,102,241,0.08)",
              borderColor: "rgba(79,70,229,0.95)",
              fill: true,
              pointHoverRadius: 6,
            },
            {
              label: "Branches (avg)",
              data: randomWalk(12, 40, 75),
              tension: 0.25,
              borderWidth: 2,
              pointRadius: 3,
              backgroundColor: "rgba(34,197,94,0.06)",
              borderColor: "rgba(34,197,94,0.9)",
              fill: true,
            },
          ],
        };
        new Chart(ctx, {
          type: "line",
          data,
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: { labels: { boxWidth: 12, padding: 16 } },
              tooltip: { mode: "index", intersect: false },
            },
            scales: {
              x: {
                grid: { display: false },
                ticks: { maxRotation: 0, autoSkip: true },
              },
              y: {
                grid: { color: "rgba(15,23,42,0.04)" },
                beginAtZero: true,
                suggestedMax: 160,
              },
            },
          },
        });
      });

      // Helpers
      function generateDateLabels(n) {
        const labels = [];
        const d = new Date();
        for (let i = n - 1; i >= 0; i--) {
          const dt = new Date(d);
          dt.setDate(d.getDate() - i);
          labels.push(`${dt.getMonth() + 1}/${dt.getDate()}`);
        }
        return labels;
      }
      function randomWalk(n, min, max) {
        const arr = [];
        let cur = Math.floor((min + max) / 2);
        for (let i = 0; i < n; i++) {
          cur += Math.floor(Math.random() * 11 - 5);
          if (cur < min) cur = min + Math.floor(Math.random() * 5);
          if (cur > max) cur = max - Math.floor(Math.random() * 5);
          arr.push(cur);
        }
        return arr;
      }

      // Expand/Collapse panels
      function toggleExpand(id) {
        const panel = document.getElementById(id);
        const row = document.getElementById("panel-row");
        const isExpanded = panel.classList.contains("expanded");
        // Collapse all
        document
          .querySelectorAll(".panel")
          .forEach((p) => p.classList.remove("expanded"));
        row.classList.remove("expanded");
        if (!isExpanded) {
          panel.classList.add("expanded");
          row.classList.add("expanded");
          panel.scrollIntoView({ behavior: "smooth", block: "start" });
        }
      }
    </script>
  </body>
</html>
